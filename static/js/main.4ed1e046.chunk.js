(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),l=(a(79),a(80),a(136)),c=a(138),s=a(139),m=a(140),g=a(141),u=a(142),d=a(143),p=Object(l.a)(function(e){return{root:{flexGrow:1},title:{flexGrow:1},avatar:{width:34,height:34}}});var b=function(){var e=p();return r.a.createElement("div",{className:e.root},r.a.createElement(c.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(m.a,{variant:"h6",className:e.title},"React PWA"),r.a.createElement("a",{href:"https://github.com/JChiquin",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(g.a,{edge:"start",color:"inherit","aria-label":"GitHub"},r.a.createElement(u.a,{alt:"Jorge Chiqu\xedn",src:"https://avatars0.githubusercontent.com/u/37207786?s=460&v=4",className:e.avatar}))),r.a.createElement("a",{href:"https://github.com/JChiquin/boilerplate-react-pwa-fcm",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(g.a,{edge:"start","aria-label":"GitHub"},r.a.createElement(d.a,{className:e.avatar},r.a.createElement("path",{d:"M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z"})))))))},h=a(145),f=a(61),E=a(68),v=a(110),w=a(144),N=a(52),k=a.n(N),y=a(62),C=a(51),x=a.n(C),j=function(){var e=Object(y.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=x.a.messaging(),e.next=4,a.requestPermission();case 4:return e.next=6,a.getToken();case 6:n=e.sent,localStorage.setItem("tokenDevice",n),t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),A=Object(l.a)(function(e){return{root:{padding:e.spacing(3,2),margin:e.spacing(1,1)},text:{padding:e.spacing(3,2)}}});var F=function(){var e=A(),t=r.a.useState({permission:!!localStorage.tokenDevice}),a=Object(E.a)(t,2),n=a[0],i=a[1],o=function(){i(Object(f.a)({},n,{permission:!0}))};return r.a.createElement("div",null,r.a.createElement(v.a,{className:e.root,elevation:3},r.a.createElement(m.a,{variant:"h4",component:"h3",align:"center",className:e.text},"Welcome to React PWA with FCM"),r.a.createElement(m.a,{component:"p",align:"center",className:e.text},"First at all, you need to allow notifications",r.a.createElement("br",null),r.a.createElement(w.a,{disabled:n.permission,onClick:function(){return j(o)},variant:"contained",color:"primary"},n.permission?"It's ready!":"Click Me!"))))},O=a(17),S=a.n(O),W=Object(l.a)(function(e){return{root:{padding:e.spacing(3,2),margin:e.spacing(1,1)},text:{padding:e.spacing(3,2)},imgFull:{width:"100%"},border3:{border:"solid 3px"}}});var P=function(){var e=W();return r.a.createElement("div",null,r.a.createElement(v.a,{className:e.root,elevation:3},r.a.createElement(m.a,{variant:"h4",component:"h3",align:"center",className:e.text},"Are you using a mobile?"),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"Please allow notifications like this:",r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile8.jpg"})),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"Add the PWA to your homescreen",r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile1.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile2.jpg"})),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"And see the magic:",r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile3.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile4.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile5.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile6.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile7.jpg"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/mobile/mobile9.jpg"}))))},L=Object(l.a)(function(e){return{root:{padding:e.spacing(3,2),margin:e.spacing(1,1)},text:{padding:e.spacing(3,2)},imgFull:{width:"100%",height:"100%"},border3:{border:"solid 3px"}}});var T=function(){var e=L();return r.a.createElement("div",null,r.a.createElement(v.a,{className:e.root,elevation:3},r.a.createElement(m.a,{variant:"h4",component:"h3",align:"center",className:e.text},"Are you using a PC?"),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"Please allow notifications like this:",r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/desktop/desktop6.png"})),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"Add the PWA to your desktop",r.a.createElement("br",null),r.a.createElement("img",{className:e.border3,alt:"",src:"imgs/desktop/desktop1.png"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/desktop/desktop2.png"})),r.a.createElement(m.a,{variant:"h6",align:"center",className:e.text},"And see the magic:",r.a.createElement("br",null),r.a.createElement("img",{className:e.border3,alt:"",src:"imgs/desktop/desktop4.png"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/desktop/desktop3.png"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/desktop/desktop5.png"}),r.a.createElement("br",null),r.a.createElement("img",{className:S()(e.imgFull,e.border3),alt:"",src:"imgs/desktop/desktop7.png"}))))},D=a(48),J=a(64),R=a(41),q=a(69),G=a(65),I=a(70),M=a(6),_=a(146),Y=function(e){function t(){var e,a;Object(J.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(q.a)(this,(e=Object(G.a)(t)).call.apply(e,[this].concat(r)))).state={body:"Hello world!",time:0,sending:!1},a.handleChange=function(e){var t=e.target,n=t.value,r=t.name;a.setState(Object(D.a)({},r,n))},a.handleFirebaseNotification=function(){a.setState({sending:!0}),setTimeout(function(){fetch("https://fcm.googleapis.com/fcm/send",{method:"POST",headers:{"content-type":"application/json",Authorization:"key=AAAAID3tbrw:APA91bHdxflOcGmr0k9XgESzicCTBFbkuqWDYtK0_YY9LVPdqvUOExxQBOLq_ndAJL6_P9vRZbwCkh4fNq-8trHqD-dXgfhMDiFJshQ8KnWvL0KGs25GicifAvJhM1XYyXM5f2TMs9JK"},body:JSON.stringify({notification:{title:"Firebase notification (background - clickable)",body:a.state.body,icon:"icons/192.png",click_action:"./action"},time_to_live:2419200,to:localStorage.tokenDevice})}).then(console.log).catch(console.error).finally(function(){return a.setState({sending:!1})})},1e3*a.state.time)},a.handleLocalNotification=function(){a.setState({sending:!0}),setTimeout(function(){navigator.serviceWorker.getRegistration().then(function(e){var t={body:a.state.body,icon:"icons/192.png",vibrate:[150,150,150,150,75,75,150,150,150,150,450],data:{dateOfArrival:Date.now(),primaryKey:1}};e.showNotification("Local Notification",t)}).catch(console.error).finally(function(){return a.setState({sending:!1})})},1e3*a.state.time)},a}return Object(I.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(v.a,{className:e.root,elevation:3},r.a.createElement(m.a,{variant:"h4",component:"h3",align:"center",className:e.text},"Now you are ready for playing with notifications",r.a.createElement("br",null),r.a.createElement(_.a,{name:"body",label:"Notification body",value:this.state.body,onChange:this.handleChange,margin:"normal",variant:"outlined",disabled:this.state.sending}),r.a.createElement("br",null),r.a.createElement(_.a,{type:"number",className:e.textField,name:"time",label:"Seconds to show notification",value:this.state.time,onChange:this.handleChange,margin:"normal",variant:"outlined",helperText:"With this you can try minimizing the app and still seeing the notification",disabled:this.state.sending,inputProps:{min:0,max:15}})),r.a.createElement(h.a,{container:!0,spacing:1},r.a.createElement(h.a,{container:!0,item:!0,justify:"center",xs:12,md:6},r.a.createElement(w.a,{disabled:this.state.sending,onClick:this.handleLocalNotification,variant:"contained",color:"primary"},"Local Notification")),r.a.createElement(h.a,{container:!0,item:!0,justify:"center",xs:12,md:6},r.a.createElement(w.a,{disabled:this.state.sending,onClick:this.handleFirebaseNotification,variant:"contained",color:"primary"},"Firebase Notification")))))}}]),t}(r.a.Component),K=Object(M.a)(function(e){return{root:{padding:e.spacing(3,2),margin:e.spacing(1,1)},text:{padding:e.spacing(3,2)},textField:{width:"210px"}}})(Y);var X=function(){return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:12,md:6},r.a.createElement(P,null)),r.a.createElement(h.a,{item:!0,xs:12,md:6},r.a.createElement(T,null))),r.a.createElement(K,null))},z=a(50),B=Object(l.a)(function(e){return{root:{marginTop:e.spacing(5)}}});var H=function(){var e=B();return r.a.createElement("div",null,r.a.createElement(h.a,{direction:"column",container:!0,justify:"center",alignItems:"center",className:e.root},r.a.createElement(m.a,{variant:"h4"},"Congrats!"),r.a.createElement(m.a,{variant:"h4",component:"h3"},"You has clicked a notification."),r.a.createElement(m.a,{component:"p"},r.a.createElement(z.b,{to:"/"},"Go home"))))},U=a(33);var V=function(){return r.a.createElement(z.a,null,r.a.createElement(b,null),r.a.createElement(U.a,{path:"/",exact:!0,component:X}),r.a.createElement(U.a,{path:"/action",exact:!0,component:H}))},Q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/boilerplate-react-pwa-fcm",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/boilerplate-react-pwa-fcm","/service-worker.js");Q?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Z(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Z(t,e)})}}(),x.a.initializeApp({apiKey:"AIzaSyDehlnXpT6SngVpVuyp7c2sRX4AGYxlY2w",authDomain:"boilerplate-react-pwa-fcm.firebaseapp.com",databaseURL:"https://boilerplate-react-pwa-fcm.firebaseio.com",projectId:"boilerplate-react-pwa-fcm",storageBucket:"boilerplate-react-pwa-fcm.appspot.com",messagingSenderId:"138477924028",appId:"1:138477924028:web:7d2262f03c8bdd71"}),x.a.messaging().onMessage(function(e){navigator.serviceWorker.getRegistration().then(function(t){t.showNotification("Firebase Notification",e.notification)}).catch(console.error)})},74:function(e,t,a){e.exports=a(109)},79:function(e,t,a){},80:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.4ed1e046.chunk.js.map